
begin fib:
	n = pop;
	if n < 0:  push "not allowed"; halt; end
	if n == 0: push 0; halt; end
	if n == 1: push 1; halt; end
	
	first = 0;
	second = 1;
	result = 0;

	i = 3;
	label fib_loop;
		result = first + second;
		first = second;
		second = result;

		if i == n:
			push result;
			halt;
		end
		i = i + 1;
	goto fib_loop
end

begin main:
	push 10;
	CALL fib;
	SHOW;
end
